@use '@tylertech/forge/sass/core/styles/spacing' as forge-spacing;
@use '@tylertech/forge/sass/core/styles/theme' as forge-theme;
@use '@tylertech/forge/sass/core/styles/shape' as forge-shape;
@use '@tylertech/forge/sass/core/styles/typography' as forge-typography;
@use '@tylertech/forge/sass/tooltip' as forge-tooltip;
@use '@tylertech/forge/sass/utils/mixins' as forge-utils;
@use '@tylertech/forge/sass/tooltip/animations';

:host {
  display: inline-block;
  position: relative;
}

.ai-tooltip {
  @include forge-tooltip.tokens;
  @include forge-tooltip.base;

  animation-duration: 150ms;
  animation-timing-function: cubic-bezier(0, 0, 0, 1);
  animation-name: tooltip-fadein, tooltip-scalein;
  transform-origin: center center;
}

// Transform origin based on placement - target the overlay element that has the data attribute
forge-ai-overlay[data-position-placement^='top'] {
  &:not([data-position-placement*='-']) .ai-tooltip {
    transform-origin: bottom center;
  }

  &[data-position-placement$='-start'] .ai-tooltip {
    transform-origin: bottom left;
  }

  &[data-position-placement$='-end'] .ai-tooltip {
    transform-origin: bottom right;
  }
}

forge-ai-overlay[data-position-placement^='right'] {
  &:not([data-position-placement*='-']) .ai-tooltip {
    transform-origin: left center;
  }

  &[data-position-placement$='-start'] .ai-tooltip {
    transform-origin: left top;
  }

  &[data-position-placement$='-end'] .ai-tooltip {
    transform-origin: left bottom;
  }
}

forge-ai-overlay[data-position-placement^='bottom'] {
  &:not([data-position-placement*='-']) .ai-tooltip {
    transform-origin: top center;
  }

  &[data-position-placement$='-start'] .ai-tooltip {
    transform-origin: top left;
  }

  &[data-position-placement$='-end'] .ai-tooltip {
    transform-origin: top right;
  }
}

forge-ai-overlay[data-position-placement^='left'] {
  &:not([data-position-placement*='-']) .ai-tooltip {
    transform-origin: right center;
  }

  &[data-position-placement$='-start'] .ai-tooltip {
    transform-origin: right top;
  }

  &[data-position-placement$='-end'] .ai-tooltip {
    transform-origin: right bottom;
  }
}

.tooltip-content--hidden {
  @include forge-utils.visually-hidden;
}

@keyframes tooltip-fadein {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes tooltip-scalein {
  from {
    transform: scale(0.8);
  }
  to {
    transform: scale(1);
  }
}
