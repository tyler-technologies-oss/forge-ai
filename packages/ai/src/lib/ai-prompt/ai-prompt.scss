@use '@tylertech/forge/sass/core/styles/spacing' as forge-spacing;
@use '@tylertech/forge/sass/core/styles/theme' as forge-theme;
@use '@tylertech/forge/dist/card/forge-card';
@use '@tylertech/forge/dist/field/forge-field';
@use '@tylertech/forge/dist/divider/forge-divider';
@use '@tylertech/forge/dist/icon-button/forge-icon-button';
@use '@tylertech/forge/sass/core/styles/scrollbar' as forge-scrollbar;

:host {
  display: block;
}

.input-container {
  .forge-card {
    --forge-card-padding: 0;
  }

  .forge-field {
    --forge-theme-outline-low: transparent;
    --forge-field-height: auto;

    min-height: 52px;
    align-items: center;

    &:has(textarea) *:not(textarea) {
      margin-block-start: initial;
    }
  }

  textarea {
    field-sizing: content;
    resize: none;
    max-height: 150px; // Limit to ~6 rows
    overflow-y: auto;
    outline: none;
    padding: #{forge-spacing.variable(medium)} 0;

    @include forge-scrollbar.base;
  }

  .actions {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    padding: #{forge-spacing.variable(xxsmall)};
    height: 52px;
    overflow-x: auto;
  }
}

// .forge-icon-button img,
// .forge-icon-button svg {
//   fill: #{forge-theme.variable(text-medium)};
// }

::slotted([slot='actions']:not(:last-child)) {
  margin-inline-end: #{forge-spacing.variable(small)};
}

:host(:state(inline)) {
  .forge-field {
    --forge-field-height: 52px;
  }

  .forge-divider {
    display: none;
  }

  .actions {
    display: none;
  }
}
