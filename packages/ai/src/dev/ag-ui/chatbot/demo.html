<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AG-UI Chatbot - Backend Communication Test</title>
    <link rel="stylesheet" href="https://cdn.forge.tylertech.com/v1/css/tyler-font.css" />
    <link rel="stylesheet" href="./styles.scss" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script>
      window.TylerForgeGlobalConfiguration = {
        'forge-field': {
          labelPosition: 'block-start'
        }
      };
    </script>
  </head>
  <body>
    <forge-scaffold>
      <forge-app-bar slot="header" theme-mode="scoped" title-text="Chatbot Demo">
        <forge-icon name="forge_logo" slot="logo"></forge-icon>
      </forge-app-bar>

      <main slot="body">
        <!-- Configuration Card -->
        <forge-card class="config-card">
          <h2 class="forge-typography--heading4">Agent Configuration</h2>
          <div class="config-container">
            <forge-text-field id="baseUrlInput">
              <input type="text" id="baseUrl" value="http://localhost:3001/api/agents" />
              <label for="baseUrl">Base URL</label>
            </forge-text-field>
            <forge-text-field id="agentIdInput">
              <input type="text" id="agentId" value="agent-9b3ff935-f32d-477b-ac45-ce2a3570b90c" />
              <label for="agentId">Agent ID</label>
            </forge-text-field>
            <forge-button id="reconnectBtn" variant="raised" disabled>Reconnect</forge-button>
          </div>
        </forge-card>

        <!-- Chat and Events Layout -->
        <div class="layout">
          <!-- Main Content (Chatbot) -->
          <forge-card class="chatbot-card">
            <forge-ai-chatbot id="chatbot" file-upload="on"></forge-ai-chatbot>
          </forge-card>

          <!-- Right Sidebar -->
          <div class="right-sidebar">
            <!-- Event Stream -->
            <forge-card class="event-stream-card" no-padding>
              <forge-scaffold>
                <forge-toolbar slot="header" no-divider>
                  <h2 slot="start" class="forge-typography--heading4" id="eventStreamHeader">Event Stream (0)</h2>
                </forge-toolbar>
                <forge-list slot="body" id="eventStream"></forge-list>
              </forge-scaffold>
            </forge-card>
          </div>
        </div>
      </main>
    </forge-scaffold>

    <script type="module" src="./main.ts"></script>
  </body>
</html>
